<!DOCTYPE html>
<html>
<head>
  <title> Rock Paper Scissors</title>
  <meta charset = "utf-8">
  <!--  Rock Paper Scissors project from The Odin Project Web Development 101 course
  https://www.theodinproject.com/courses/web-development-101/lessons/rock-paper-scissors -->
</head>  
<body>
    <script>
        
      let computerSelection;
      let playerSelection;
      let randomInteger;
      let min;
      let max;

        function computerPlay() {  // computerSelection removed as arg; computer selects rock, paper, scissors)
            function randomInteger(min, max) {  //randomIntger works in console
                min = Math.ceil(1);
                max = Math.floor(3);
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            
            if (randomInteger(min, max) === 1) {
              computerSelection = "rock";
            } else if (randomInteger(min, max) === 2) {
                computerSelection = "paper";
            } else {
               computerSelection = "scissors";
            }
            //console.log(computerSelection);
            return computerSelection;
            
        }  //works

        function playerChoice() {
            playerSelection = prompt("Rock, paper, or scissors?");
            playerSelection = playerSelection.toLowerCase();
            //console.log(playerSelection);           
            return playerSelection;
        }  //works

        
        let playerWins;
        let computerWins;
        let result;

        computerPlay(); //works  oustisde of playOneRound not inside - WHY?
        playerChoice(); //works  oustisde of playOneRound not inside - WHY?
        

        function playOneRound(playerSelection, computerSelection) {  // compares playerSelection, computerSelection declares winner
            

            /*playerWins = function(playerSelection, computerSelection) {
              result = `Computer loses!  ${playerSelection} beats ${computerSelection}`;
              console.log(result);
              return result;
            };

            computerWins = function(playerSelection, computerSelection) {
              result = `You lose! ${computerSelection} beats ${playerSelection}`;
              console.log(result);
              return result;
            }; */


            function playerWins(playerSelection, computerSelection) {
                result = `Computer loses!  ${playerSelection} beats ${computerSelection}`;
                //console.log(result);
                return result;
            } 
            
            function computerWins(playerSelection, computerSelection) {
                  result = `You lose! ${computerSelection} beats ${playerSelection}`;
                  ////console.log(result);
                  return result;
            } 

            function tie(playerSelection, computerSelection) {
                result = `It's a tie!`;
                //console.log(result);
                return result;
              }  

            if (playerSelection === computerSelection) { // if commented out, the if... else statements return undefined
              // result = "Tie!";
              result = tie(playerSelection, computerSelection);
              //console.log(result);
              return result;
            
            }  else if (playerSelection ==="rock" && computerSelection === "paper") {
              result = computerWins(playerSelection, computerSelection);
              console.log(result);
              return result;

            }  else if (playerSelection === "rock"  && computerSelection === "scissors") {
              result = playerWins(playerSelection, computerSelection); 
              //console.log(result);
              return result;


            } else if (playerSelection === "paper"  && computerSelection === "scissors") {
              result = computerWins(playerSelection, computerSelection);
              //console.log(result);
              return result;

            } else if (playerSelection === "paper" && computerSelection === "rock") {
              result = playerWins(playerSelection, computerSelection);
              //console.log(result);
              return result;

            } else if (playerSelection === "scissors" && computerSelection === "paper") {
              result = playerWins(playerSelection, computerSelection); 
              //console.log(result);
              return result;

            }  else if (playerSelection === "scissors" && computerSelection === "rock") {
              result = computerWins(playerSelection, computerSelection);
              //console.log(result);
              return result;
            }

        }

        

        playOneRound(playerSelection, computerSelection);
        console.log(result); // always computerSelection = "scissors", returns tie even when playerSelection != computerSelection
          
         

           
            /*       
            if (playerSelection == computerSelection) {
                result = "Tie!";
            } else if (playerSelection == "rock" && computerSelection == "paper") {
                
            } else if (playerSelection == "rock"  && computerSelection == "scissors") {
                result = `Computer loses!  ${playerSelection} beats ${computerSelection}`;
            }  else if (playerSelection == "paper" && computerSelection == "scissors") {
                result = `You lose!`
            }
            */
      
        

    </script>
</body>
</html>
